import{c as I,r as j,j as t,F as S,H as F}from"./app-CPr5YnxP.js";import{I as _}from"./input-error-DwHLHufV.js";import{B as N}from"./book-open-fEe3Denu.js";import{I as w}from"./input-BKDxcRxU.js";import{I as O,K as A,O as v,a as R,b as P}from"./use-two-factor-auth-DB4lkGgd.js";import{A as k}from"./auth-layout-CI-dc9_V.js";/* empty css            */import"./index-ccEB9IJ-.js";import"./index-DYCkgPHX.js";function H(e,o="get"){const a=()=>({url:e,method:o});return a.form=()=>({action:e,method:o.toUpperCase()}),a}const L=H("/two-factor-challenge","post");function J(){const e=I.c(18),[o,a]=j.useState(!1),[p,g]=j.useState("");let f;e:{if(o){let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"},e[0]=n):n=e[0],f=n;break e}let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"},e[1]=s):s=e[1],f=s}const r=f;let l;e[2]!==o?(l=s=>{a(!o),s(),g("")},e[2]=o,e[3]=l):l=e[3];const x=l,b=r.title,T=r.description;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(F,{title:"Two-Factor Authentication"}),e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=L.form(),e[5]=d):d=e[5];const h=!o;let c;e[6]!==r.toggleText||e[7]!==p||e[8]!==o||e[9]!==x?(c=s=>{const{errors:n,processing:y,clearErrors:C}=s;return t.jsxs(t.Fragment,{children:[o?t.jsxs(t.Fragment,{children:[t.jsx(w,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autoFocus:o,required:!0}),t.jsx(_,{message:n.recovery_code})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[t.jsx("div",{className:"flex w-full items-center justify-center",children:t.jsx(O,{name:"code",maxLength:v,value:p,onChange:E=>g(E),disabled:y,pattern:A,children:t.jsx(R,{children:Array.from({length:v},B)})})}),t.jsx(_,{message:n.code})]}),t.jsx(N,{type:"submit",className:"w-full",disabled:y,children:"Continue"}),t.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[t.jsx("span",{children:"or you can "}),t.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>x(C),children:r.toggleText})]})]})},e[6]=r.toggleText,e[7]=p,e[8]=o,e[9]=x,e[10]=c):c=e[10];let i;e[11]!==h||e[12]!==c?(i=t.jsx("div",{className:"space-y-6",children:t.jsx(S,{...d,className:"space-y-4",resetOnError:!0,resetOnSuccess:h,children:c})}),e[11]=h,e[12]=c,e[13]=i):i=e[13];let m;return e[14]!==r.description||e[15]!==r.title||e[16]!==i?(m=t.jsxs(k,{title:b,description:T,children:[u,i]}),e[14]=r.description,e[15]=r.title,e[16]=i,e[17]=m):m=e[17],m}function B(e,o){return t.jsx(P,{index:o},o)}export{J as default};
