import{r as u,j as t,c as B,F as G,H as K}from"./app-CPr5YnxP.js";import{I as R}from"./input-error-DwHLHufV.js";import{T as P}from"./text-link-t8qypozl.js";import{u as L,c as X,B as W}from"./book-open-fEe3Denu.js";import{u as J,c as Q,a as S,b as V,P as Y}from"./index-LaZRL1i8.js";import{P as I}from"./index-DXn93pc7.js";import{C as Z}from"./check-BudbVtmW.js";import{I as F}from"./input-BKDxcRxU.js";import{L as w}from"./label-BLH_gdKg.js";import{S as ee}from"./spinner-BnBciBse.js";import{A as te}from"./auth-layout-CI-dc9_V.js";import{r as re}from"./index-DYCkgPHX.js";import{r as se}from"./index-CGzHK1qd.js";/* empty css            */import"./loader-circle-CtpHbDyx.js";function oe(r){const e=u.useRef({value:r,previous:r});return u.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var y="Checkbox",[ae,_e]=Q(y),[ne,_]=ae(y);function ce(r){const{__scopeCheckbox:e,checked:o,children:n,defaultChecked:a,disabled:s,form:c,name:l,onCheckedChange:i,required:d,value:p="on",internal_do_not_use_render:f}=r,[x,b]=J({prop:o,defaultProp:a??!1,onChange:i,caller:y}),[k,C]=u.useState(null),[v,m]=u.useState(null),h=u.useRef(!1),j=k?!!c||!!k.closest("form"):!0,N={checked:x,disabled:s,setChecked:b,control:k,setControl:C,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:h,required:d,defaultChecked:g(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:m};return t.jsx(ne,{scope:e,...N,children:ie(f)?f(N):n})}var q="CheckboxTrigger",T=u.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:o,...n},a)=>{const{control:s,value:c,disabled:l,checked:i,required:d,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:k}=_(q,r),C=L(a,p),v=u.useRef(i);return u.useEffect(()=>{const m=s?.form;if(m){const h=()=>f(v.current);return m.addEventListener("reset",h),()=>m.removeEventListener("reset",h)}},[s,f]),t.jsx(I.button,{type:"button",role:"checkbox","aria-checked":g(i)?"mixed":i,"aria-required":d,"data-state":z(i),"data-disabled":l?"":void 0,disabled:l,value:c,...n,ref:C,onKeyDown:S(e,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:S(o,m=>{f(h=>g(h)?!0:!h),k&&b&&(x.current=m.isPropagationStopped(),x.current||m.stopPropagation())})})});T.displayName=q;var A=u.forwardRef((r,e)=>{const{__scopeCheckbox:o,name:n,checked:a,defaultChecked:s,required:c,disabled:l,value:i,onCheckedChange:d,form:p,...f}=r;return t.jsx(ce,{__scopeCheckbox:o,checked:a,defaultChecked:s,disabled:l,required:c,onCheckedChange:d,name:n,form:p,value:i,internal_do_not_use_render:({isFormControl:x})=>t.jsxs(t.Fragment,{children:[t.jsx(T,{...f,ref:e,__scopeCheckbox:o}),x&&t.jsx(O,{__scopeCheckbox:o})]})})});A.displayName=y;var M="CheckboxIndicator",D=u.forwardRef((r,e)=>{const{__scopeCheckbox:o,forceMount:n,...a}=r,s=_(M,o);return t.jsx(Y,{present:n||g(s.checked)||s.checked===!0,children:t.jsx(I.span,{"data-state":z(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...r.style}})})});D.displayName=M;var H="CheckboxBubbleInput",O=u.forwardRef(({__scopeCheckbox:r,...e},o)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:c,required:l,disabled:i,name:d,value:p,form:f,bubbleInput:x,setBubbleInput:b}=_(H,r),k=L(o,b),C=oe(s),v=V(n);u.useEffect(()=>{const h=x;if(!h)return;const j=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(j,"checked").set,U=!a.current;if(C!==s&&E){const $=new Event("click",{bubbles:U});h.indeterminate=g(s),E.call(h,g(s)?!1:s),h.dispatchEvent($)}},[x,C,s,a]);const m=u.useRef(g(s)?!1:s);return t.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??m.current,required:l,disabled:i,name:d,value:p,form:f,...e,tabIndex:-1,ref:k,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});O.displayName=H;function ie(r){return typeof r=="function"}function g(r){return r==="indeterminate"}function z(r){return g(r)?"indeterminate":r?"checked":"unchecked"}function de(r){const e=B.c(9);let o,n;e[0]!==r?({className:o,...n}=r,e[0]=r,e[1]=o,e[2]=n):(o=e[1],n=e[2]);let a;e[3]!==o?(a=X("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),e[3]=o,e[4]=a):a=e[4];let s;e[5]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(D,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(Z,{className:"size-3.5"})}),e[5]=s):s=e[5];let c;return e[6]!==n||e[7]!==a?(c=t.jsx(A,{"data-slot":"checkbox",className:a,...n,children:s}),e[6]=n,e[7]=a,e[8]=c):c=e[8],c}function le(r,e="get"){const o=()=>({url:r,method:e});return o.form=()=>({action:r,method:e.toUpperCase()}),o}const me=le("/login","post");function Ee(r){const e=B.c(11),{status:o,canResetPassword:n,canRegister:a}=r;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(K,{title:"Log in"}),e[0]=s):s=e[0];let c,l;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=me.form(),l=["password"],e[1]=c,e[2]=l):(c=e[1],l=e[2]);let i;e[3]!==a||e[4]!==n?(i=t.jsx(G,{...c,resetOnSuccess:l,className:"flex flex-col gap-6",children:f=>{const{processing:x,errors:b}=f;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-5",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(w,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email address"}),t.jsx(F,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"you@example.com",className:"h-11 border-gray-300 focus:border-primary focus:ring-primary"}),t.jsx(R,{message:b.email})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(w,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),n&&t.jsx(P,{href:se(),className:"text-sm text-primary hover:text-primary/80 font-medium",tabIndex:5,children:"Forgot password?"})]}),t.jsx(F,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Enter your password",className:"h-11 border-gray-300 focus:border-primary focus:ring-primary"}),t.jsx(R,{message:b.password})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(de,{id:"remember",name:"remember",tabIndex:3}),t.jsx(w,{htmlFor:"remember",className:"text-sm text-gray-600 cursor-pointer",children:"Remember me for 30 days"})]}),t.jsx(W,{type:"submit",className:"mt-2 w-full h-11 bg-gradient-primary hover:opacity-90 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",tabIndex:4,disabled:x,"data-test":"login-button",children:x?t.jsxs(t.Fragment,{children:[t.jsx(ee,{}),t.jsx("span",{className:"ml-2",children:"Signing in..."})]}):"Sign in"})]}),a&&t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx(P,{href:re(),className:"text-primary font-semibold hover:text-primary/80",tabIndex:5,children:"Create one now"})]})})]})}}),e[3]=a,e[4]=n,e[5]=i):i=e[5];let d;e[6]!==o?(d=o&&t.jsx("div",{className:"mt-4 rounded-lg bg-green-50 border border-green-200 p-4 text-center text-sm font-medium text-green-700",children:o}),e[6]=o,e[7]=d):d=e[7];let p;return e[8]!==i||e[9]!==d?(p=t.jsxs(te,{title:"Welcome back!",description:"Enter your credentials to access your learning journey",children:[s,i,d]}),e[8]=i,e[9]=d,e[10]=p):p=e[10],p}export{Ee as default};
