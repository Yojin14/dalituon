import{r as u,j as t,c as B,F as U,H as X}from"./app-Bhx5Xdrh.js";import{I as P}from"./input-error-BP7G_31P.js";import{T as S}from"./text-link-NAWsrQET.js";import{u as L,c as W,B as J}from"./book-open-CGcNy4Oj.js";import{u as Q,c as V,a as F,b as Y,P as Z}from"./index-CmLNvI5r.js";import{P as _}from"./index-BeG3Ctzd.js";import{C as ee}from"./check-JWWNXy7H.js";import{I as q}from"./input-talcWPSm.js";import{L as I}from"./label-C8XLijM3.js";import{S as te}from"./spinner-BXqgAXLD.js";import{A as re}from"./auth-layout-BkiCB6Ov.js";import{q as se,r as oe}from"./index-BCjkl18T.js";import{r as ae}from"./index-B9OoFtui.js";/* empty css            */import"./loader-circle-i2TWQSnx.js";import"./index-zysX0Uri.js";function ne(r){const e=u.useRef({value:r,previous:r});return u.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var j="Checkbox",[ie,Ee]=V(j),[ce,E]=ie(j);function de(r){const{__scopeCheckbox:e,checked:o,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:d,value:p="on",internal_do_not_use_render:f}=r,[h,g]=Q({prop:o,defaultProp:a??!1,onChange:c,caller:j}),[C,y]=u.useState(null),[v,m]=u.useState(null),x=u.useRef(!1),N=C?!!i||!!C.closest("form"):!0,w={checked:h,disabled:s,setChecked:g,control:C,setControl:y,name:l,form:i,value:p,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:k(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:m};return t.jsx(ce,{scope:e,...w,children:le(f)?f(w):n})}var T="CheckboxTrigger",A=u.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:o,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:d,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:C}=E(T,r),y=L(a,p),v=u.useRef(c);return u.useEffect(()=>{const m=s?.form;if(m){const x=()=>f(v.current);return m.addEventListener("reset",x),()=>m.removeEventListener("reset",x)}},[s,f]),t.jsx(_.button,{type:"button",role:"checkbox","aria-checked":k(c)?"mixed":c,"aria-required":d,"data-state":$(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:F(e,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:F(o,m=>{f(x=>k(x)?!0:!x),C&&g&&(h.current=m.isPropagationStopped(),h.current||m.stopPropagation())})})});A.displayName=T;var M=u.forwardRef((r,e)=>{const{__scopeCheckbox:o,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:d,form:p,...f}=r;return t.jsx(de,{__scopeCheckbox:o,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:d,name:n,form:p,value:c,internal_do_not_use_render:({isFormControl:h})=>t.jsxs(t.Fragment,{children:[t.jsx(A,{...f,ref:e,__scopeCheckbox:o}),h&&t.jsx(z,{__scopeCheckbox:o})]})})});M.displayName=j;var O="CheckboxIndicator",D=u.forwardRef((r,e)=>{const{__scopeCheckbox:o,forceMount:n,...a}=r,s=E(O,o);return t.jsx(Z,{present:n||k(s.checked)||s.checked===!0,children:t.jsx(_.span,{"data-state":$(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...r.style}})})});D.displayName=O;var H="CheckboxBubbleInput",z=u.forwardRef(({__scopeCheckbox:r,...e},o)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:d,value:p,form:f,bubbleInput:h,setBubbleInput:g}=E(H,r),C=L(o,g),y=ne(s),v=Y(n);u.useEffect(()=>{const x=h;if(!x)return;const N=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(N,"checked").set,G=!a.current;if(y!==s&&R){const K=new Event("click",{bubbles:G});x.indeterminate=k(s),R.call(x,k(s)?!1:s),x.dispatchEvent(K)}},[h,y,s,a]);const m=u.useRef(k(s)?!1:s);return t.jsx(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,required:l,disabled:c,name:d,value:p,form:f,...e,tabIndex:-1,ref:C,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});z.displayName=H;function le(r){return typeof r=="function"}function k(r){return r==="indeterminate"}function $(r){return k(r)?"indeterminate":r?"checked":"unchecked"}function me(r){const e=B.c(9);let o,n;e[0]!==r?({className:o,...n}=r,e[0]=r,e[1]=o,e[2]=n):(o=e[1],n=e[2]);let a;e[3]!==o?(a=W("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),e[3]=o,e[4]=a):a=e[4];let s;e[5]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(D,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(ee,{className:"size-3.5"})}),e[5]=s):s=e[5];let i;return e[6]!==n||e[7]!==a?(i=t.jsx(M,{"data-slot":"checkbox",className:a,...n,children:s}),e[6]=n,e[7]=a,e[8]=i):i=e[8],i}const b=r=>({url:b.url(r),method:"post"});b.definition={methods:["post"],url:"/login"};b.url=r=>b.definition.url+se(r);b.post=r=>({url:b.url(r),method:"post"});Object.assign(b,b);function Re(r){const e=B.c(11),{status:o,canResetPassword:n,canRegister:a}=r;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(X,{title:"Log in"}),e[0]=s):s=e[0];let i,l;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=b.form(),l=["password"],e[1]=i,e[2]=l):(i=e[1],l=e[2]);let c;e[3]!==a||e[4]!==n?(c=t.jsx(U,{...i,resetOnSuccess:l,className:"flex flex-col gap-6",children:f=>{const{processing:h,errors:g}=f;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-5",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(I,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email address"}),t.jsx(q,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"you@example.com",className:"h-11 border-gray-300 focus:border-primary focus:ring-primary"}),t.jsx(P,{message:g.email})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(I,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),n&&t.jsx(S,{href:ae(),className:"text-sm text-primary hover:text-primary/80 font-medium",tabIndex:5,children:"Forgot password?"})]}),t.jsx(q,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Enter your password",className:"h-11 border-gray-300 focus:border-primary focus:ring-primary"}),t.jsx(P,{message:g.password})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(me,{id:"remember",name:"remember",tabIndex:3}),t.jsx(I,{htmlFor:"remember",className:"text-sm text-gray-600 cursor-pointer",children:"Remember me for 30 days"})]}),t.jsx(J,{type:"submit",className:"mt-2 w-full h-11 bg-gradient-primary hover:opacity-90 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",tabIndex:4,disabled:h,"data-test":"login-button",children:h?t.jsxs(t.Fragment,{children:[t.jsx(te,{}),t.jsx("span",{className:"ml-2",children:"Signing in..."})]}):"Sign in"})]}),a&&t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx(S,{href:oe(),className:"text-primary font-semibold hover:text-primary/80",tabIndex:5,children:"Create one now"})]})})]})}}),e[3]=a,e[4]=n,e[5]=c):c=e[5];let d;e[6]!==o?(d=o&&t.jsx("div",{className:"mt-4 rounded-lg bg-green-50 border border-green-200 p-4 text-center text-sm font-medium text-green-700",children:o}),e[6]=o,e[7]=d):d=e[7];let p;return e[8]!==c||e[9]!==d?(p=t.jsxs(re,{title:"Welcome back!",description:"Enter your credentials to access your learning journey",children:[s,c,d]}),e[8]=c,e[9]=d,e[10]=p):p=e[10],p}export{Re as default};
